# Typical Fluentd configuration file for Datadog plugin
# This is how Fluentd is typically configured in production

# HTTP input - allows sending logs via HTTP POST
<source>
  @type http
  port 8888
  bind 0.0.0.0
</source>

# Forward input - allows sending logs via Fluentd forward protocol
<source>
  @type forward
  port 24224
  bind 0.0.0.0
</source>

# Match events and send them to Datadog
<match test.**>
  @type datadog
  @id datadog_output
  api_key YOUR_API_KEY_HERE
  
  # Optional configuration
  include_tag_key true
  tag_key 'tag'
  service 'fluentd-test-app'
  dd_source 'ruby'
  dd_tags 'env:test,app:testapp'
  
  <buffer>
    @type memory
    flush_interval 3s
    chunk_limit_size 5m
    chunk_limit_records 500
  </buffer>
</match>

